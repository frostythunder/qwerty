#include <iostream>
#include<inttypes.h>
#include<stdio.h>
#include<stdint.h>
#include<stdio.h>

using namespace std;
const uint32_t MOD_ADLER = 65521;

uint32_t adler32(unsigned char *data, size_t len)

{
uint32_t a = 1;
uint32_t b = 0;
size_t index;

for (index = 0; index < len; ++index)
{
a = (a + data[index]) % MOD_ADLER;
b = (b + a) % MOD_ADLER;
}

return (b << 16) | a;
}
uint16_t Fletcher16( uint8_t *data, int count )
{
uint16_t sum1 = 0;
uint16_t sum2 = 0;
int index;

for ( index = 0; index < count; ++index )
{
sum1 = (sum1 + data[index]) % 255;
sum2 = (sum2 + sum1) % 255;
}

return (sum2 << 8) | sum1;
}
int main()
{ uint8_t data[20];
cout<<"Enter data\n";
cin>>data;
uint16_t fletcher;
uint32_t adler;
fletcher=Fletcher16(data,16);
adler=adler32(data,32);
cout<<"Adler checksum for "<<data<<" is "<<adler;
cout<<"\nFetcher checksum for "<<data<<" is "<<fletcher;
}
